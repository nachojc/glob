<span>
  <input *ngIf="!multiple" #in [attr.type]="type" [attr.id]="inputId" [ngStyle]="inputStyle" [class]="inputStyleClass"
    autocomplete="off" [attr.required]="required"
    [ngClass]="'ui-inputtext ui-widget ui-state-default ui-corner-all ui-autocomplete-input'" [value]="inputFieldValue"
    aria-autocomplete="list" role="combobox" [attr.aria-expanded]="overlayVisible" aria-haspopup="true"
    [attr.aria-activedescendant]="'p-highlighted-option'" (click)="onInputClick($event)" (input)="onInput($event)"
    (keydown)="onKeydown($event)" (keyup)="onKeyup($event)" [attr.autofocus]="autofocus" (focus)="onInputFocus($event)"
    (blur)="onInputBlur($event)" (change)="onInputChange($event)" (paste)="onInputPaste($event)"
    [attr.placeholder]="placeholder" [attr.size]="size" [attr.maxlength]="maxlength" [attr.tabindex]="tabindex"
    [readonly]="readonly" [disabled]="disabled" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledBy"
    [attr.aria-required]="required">
  </ul><i *ngIf="loading" class="ui-autocomplete-loader pi pi-spinner pi-spin"></i><button #ddBtn type="button" pButton
    [icon]="dropdownIcon" class="ui-autocomplete-dropdown" [disabled]="disabled" (click)="handleDropdownClick($event)"
    *ngIf="dropdown"></button>
  <div #panel *ngIf="overlayVisible" class="ui-autocomplete-panel ui-widget ui-widget-content ui-corner-all ui-shadow"
    [style.max-height]="scrollHeight"
    [@overlayAnimation]="{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}"
    (@overlayAnimation.start)="onOverlayAnimationStart($event)"
    (@overlayAnimation.done)="onOverlayAnimationDone($event)">
    <ul role="listbox"
      class="ui-autocomplete-items ui-autocomplete-list ui-widget-content ui-widget ui-corner-all ui-helper-reset">
      <li role="option" *ngFor="let option of suggestions; let idx = index"
        [ngClass]="{'ui-autocomplete-list-item ui-corner-all':true,'ui-state-highlight':(highlightOption==option)}"
        (mouseenter)="highlightOption=option" (mouseleave)="highlightOption=null"
        [id]="highlightOption == option ? 'p-highlighted-option':''" (click)="selectItem(option)">
        <span *ngIf="!itemTemplate">{{resolveFieldData(option)}}</span>
        <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: option, index: idx}"></ng-container>
      </li>
      <li *ngIf="noResults && emptyMessage" class="ui-autocomplete-list-item ui-corner-all">{{emptyMessage}}</li>
    </ul>
  </div>
</span>