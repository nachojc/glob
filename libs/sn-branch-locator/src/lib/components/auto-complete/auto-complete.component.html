<span>
  <input
    #in
    [attr.type]="type"
    [attr.id]="inputId"
    autocomplete="off"
    [attr.required]="required"
    [ngClass]="'sn-inputtext sn-widget sn-state-default sn-corner-all sn-autocomplete-input'"
    [value]="inputFieldValue"
    aria-autocomplete="list"
    role="combobox"
    [attr.aria-expanded]="overlayVisible"
    aria-haspopup="true"
    [attr.aria-activedescendant]="'p-highlighted-option'"
    (click)="onInputClick($event)"
    (input)="onInput($event)"
    (keydown)="onKeydown($event)"
    (keyup)="onKeyup($event)"
    [attr.autofocus]="autofocus"
    (focus)="onInputFocus($event)"
    (blur)="onInputBlur($event)"
    (change)="onInputChange($event)"
    (paste)="onInputPaste($event)"
    [attr.placeholder]="placeholder"
    [attr.size]="size"
    [attr.maxlength]="maxlength"
    [attr.tabindex]="tabindex"
    [readonly]="readonly"
    [disabled]="disabled"
    [attr.aria-label]="ariaLabel"
    [attr.aria-labelledby]="ariaLabelledBy"
    [attr.aria-required]="required">
    
  <div
    #panel
    *ngIf="overlayVisible"
    class="sn-autocomplete-panel sn-widget sn-widget-content sn-corner-all sn-shadow"
    [style.max-height]="scrollHeight"
    [@overlayAnimation]="{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}"
    (@overlayAnimation.start)="onOverlayAnimationStart($event)"
    (@overlayAnimation.done)="onOverlayAnimationDone($event)">
    <ul role="listbox"
      class="sn-autocomplete-items sn-autocomplete-list sn-widget-content sn-widget sn-corner-all sn-helper-reset">
      <li role="option" *ngFor="let option of suggestions; let idx = index"
        [ngClass]="{'sn-autocomplete-list-item sn-corner-all':true,'sn-state-highlight':(highlightOption==option)}"
        (mouseenter)="highlightOption=option" (mouseleave)="highlightOption=null"
        [id]="highlightOption == option ? 'p-highlighted-option':''" (click)="selectItem(option)">
        <span *ngIf="!itemTemplate">{{resolveFieldData(option)}}</span>
        <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: option, index: idx}"></ng-container>
      </li>
      <li *ngIf="noResults && emptyMessage" class="sn-autocomplete-list-item sn-corner-all">{{emptyMessage}}</li>
    </ul>
  </div>
</span>